# ============================================================================
# Soba DEX - Environment Configuration Template
# Copy this file to .env and update the values
# Version: 2.6.0 (Phase 3 - Database Integration)
# ============================================================================

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# ----------------------------------------------------------------------------
# Database (PostgreSQL + Prisma)
# ----------------------------------------------------------------------------
# Full connection string (preferred)
DATABASE_URL=postgresql://postgres:password@localhost:5432/soba_dex?schema=public

# Individual settings (alternative)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=soba_dex
DB_USER=postgres
DB_PASSWORD=password

# Connection pool
DB_POOL_MIN=2
DB_POOL_MAX=10

# ----------------------------------------------------------------------------
# Redis (Caching & Session Store)
# ----------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------------------------------------
# Security & Authentication
# ----------------------------------------------------------------------------
# CRITICAL: Generate secure random strings for production!
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=development-secret-change-in-production-minimum-32-characters
API_KEY_HMAC_SECRET=development-hmac-secret-change-in-production-min-32-chars
SESSION_SECRET=development-session-secret-change-in-production

# Token expiry
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
API_KEY_TTL_MS=7776000000  # 90 days

# ----------------------------------------------------------------------------
# CORS
# ----------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001

# ----------------------------------------------------------------------------
# HTTPS & Security Headers
# ----------------------------------------------------------------------------
FORCE_HTTPS=false  # Set to true in production
ENFORCE_HTTPS=false
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000  # 1 year

# ----------------------------------------------------------------------------
# External APIs & Services
# ----------------------------------------------------------------------------
# Price Oracles
PRICE_ORACLE_API_KEY=
COINGECKO_API_KEY=
CRYPTOCOMPARE_API_KEY=

# Gas Oracles
GAS_ORACLE_API_KEY=
ETHERSCAN_API_KEY=

# Blockchain RPC
ETH_RPC_URL=https://mainnet.infura.io/v3/YOUR-PROJECT-ID
POLYGON_RPC_URL=https://polygon-rpc.com
BSC_RPC_URL=https://bsc-dataseed.binance.org

# ----------------------------------------------------------------------------
# Notifications
# ----------------------------------------------------------------------------
SENDGRID_API_KEY=
SENDGRID_FROM_EMAIL=noreply@sobadex.com
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
SLACK_WEBHOOK_URL=

# ----------------------------------------------------------------------------
# Monitoring & Error Tracking
# ----------------------------------------------------------------------------
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# ----------------------------------------------------------------------------
# Logging
# ----------------------------------------------------------------------------
LOG_LEVEL=debug  # error | warn | info | debug
LOG_DIR=./logs
LOG_FORMAT=json  # json | simple
LOG_FILE=logs/app.log

# ----------------------------------------------------------------------------
# Rate Limiting
# ----------------------------------------------------------------------------
RATE_LIMIT_ENABLED=true
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes

# ----------------------------------------------------------------------------
# Request Handling
# ----------------------------------------------------------------------------
REQUEST_BODY_LIMIT_BYTES=102400
REQUEST_ID_TRUST_HEADER=false
X_REQUEST_ID_HEADER=X-Request-ID

# HTTP timeouts (milliseconds)
SERVER_KEEP_ALIVE_TIMEOUT_MS=5000
SERVER_HEADERS_TIMEOUT_MS=6000
SERVER_REQUEST_TIMEOUT_MS=120000

# ----------------------------------------------------------------------------
# WebSocket
# ----------------------------------------------------------------------------
WS_PORT=3001
WS_PATH=/ws
WS_HEARTBEAT_INTERVAL=30000
WS_MAX_CONNECTIONS=10000

# ----------------------------------------------------------------------------
# Caching
# ----------------------------------------------------------------------------
CACHE_ENABLED=true
CACHE_TTL_DEFAULT=300  # 5 minutes
CACHE_TTL_PRICES=5  # 5 seconds
CACHE_TTL_GAS=10  # 10 seconds
CACHE_TTL_PORTFOLIO=60  # 1 minute

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
FEATURE_SWAP_ENABLED=true
FEATURE_LIQUIDITY_ENABLED=true
FEATURE_STAKING_ENABLED=false
FEATURE_GOVERNANCE_ENABLED=false

# ----------------------------------------------------------------------------
# Development & Testing
# ----------------------------------------------------------------------------
USE_MOCK_DATA=true  # Set to false when database is ready
TEST_DATABASE_URL=postgresql://postgres:password@localhost:5432/soba_dex_test?schema=public
DEBUG=false
VERBOSE_LOGGING=false
